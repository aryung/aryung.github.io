<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>JS 原型說明 by Dan Abramov | AC分享小站</title><meta name=keywords content="javascript"><meta name=description content="楔子 不同的大神針對 JS 有不同的說明講解，來看一下 Redux 作者的說明。
Dan Abramov 有一個 justjavascrpt prototype 其實把觀念寫的蠻好的。
這篇文章是其中一個 prototype 的內容摘錄如下:
先有一個觀念就是 a = '123' 中 a 是變數(variable)， 123 是值(value)
// teeth 是 variable // 32 是值 let human = { teeth: 32 } let gwen = { age: 19 } human 和 gwen 是一個 Object，他把屬性直接連到 值
// gwen 沒有 teeth 屬性 console.log(gwen.teeth) // undefined let human = { teeth: 32 } 如果當用 __proto__ 在 Object 裡面，=的右邊是一個變數，這是就是去找這個變數的 reference 在哪?"><meta name=author content><link rel=canonical href=https://aryung.github.io/posts/2022-03-08-justjavascript-prototype/><link crossorigin=anonymous href=/assets/css/stylesheet.min.b4e19c453811e60acfec1f00c15ac2be1c53f6ab90187e684358ce7faaf48bab.css integrity="sha256-tOGcRTgR5grP7B8AwVrCvhxT9quQGH5oQ1jOf6r0i6s=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.2840b7fccd34145847db71a290569594bdbdb00047097f75d6495d162f5d7dff.js integrity="sha256-KEC3/M00FFhH23GikFaVlL29sABHCX911kldFi9dff8=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://aryung.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://aryung.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://aryung.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://aryung.github.io/apple-touch-icon.png><link rel=mask-icon href=https://aryung.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="JS 原型說明 by Dan Abramov"><meta property="og:description" content="楔子 不同的大神針對 JS 有不同的說明講解，來看一下 Redux 作者的說明。
Dan Abramov 有一個 justjavascrpt prototype 其實把觀念寫的蠻好的。
這篇文章是其中一個 prototype 的內容摘錄如下:
先有一個觀念就是 a = '123' 中 a 是變數(variable)， 123 是值(value)
// teeth 是 variable // 32 是值 let human = { teeth: 32 } let gwen = { age: 19 } human 和 gwen 是一個 Object，他把屬性直接連到 值
// gwen 沒有 teeth 屬性 console.log(gwen.teeth) // undefined let human = { teeth: 32 } 如果當用 __proto__ 在 Object 裡面，=的右邊是一個變數，這是就是去找這個變數的 reference 在哪?"><meta property="og:type" content="article"><meta property="og:url" content="https://aryung.github.io/posts/2022-03-08-justjavascript-prototype/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-03-08T18:29:06+08:00"><meta property="article:modified_time" content="2022-03-08T18:29:06+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="JS 原型說明 by Dan Abramov"><meta name=twitter:description content="楔子 不同的大神針對 JS 有不同的說明講解，來看一下 Redux 作者的說明。
Dan Abramov 有一個 justjavascrpt prototype 其實把觀念寫的蠻好的。
這篇文章是其中一個 prototype 的內容摘錄如下:
先有一個觀念就是 a = '123' 中 a 是變數(variable)， 123 是值(value)
// teeth 是 variable // 32 是值 let human = { teeth: 32 } let gwen = { age: 19 } human 和 gwen 是一個 Object，他把屬性直接連到 值
// gwen 沒有 teeth 屬性 console.log(gwen.teeth) // undefined let human = { teeth: 32 } 如果當用 __proto__ 在 Object 裡面，=的右邊是一個變數，這是就是去找這個變數的 reference 在哪?"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://aryung.github.io/posts/"},{"@type":"ListItem","position":2,"name":"JS 原型說明 by Dan Abramov","item":"https://aryung.github.io/posts/2022-03-08-justjavascript-prototype/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"JS 原型說明 by Dan Abramov","name":"JS 原型說明 by Dan Abramov","description":"楔子 不同的大神針對 JS 有不同的說明講解，來看一下 Redux 作者的說明。\nDan Abramov 有一個 justjavascrpt prototype 其實把觀念寫的蠻好的。\n這篇文章是其中一個 prototype 的內容摘錄如下:\n先有一個觀念就是 a = '123' 中 a 是變數(variable)， 123 是值(value)\n// teeth 是 variable // 32 是值 let human = { teeth: 32 } let gwen = { age: 19 } human 和 gwen 是一個 Object，他把屬性直接連到 值\n// gwen 沒有 teeth 屬性 console.log(gwen.teeth) // undefined let human = { teeth: 32 } 如果當用 __proto__ 在 Object 裡面，=的右邊是一個變數，這是就是去找這個變數的 reference 在哪?","keywords":["javascript"],"articleBody":"楔子 不同的大神針對 JS 有不同的說明講解，來看一下 Redux 作者的說明。\nDan Abramov 有一個 justjavascrpt prototype 其實把觀念寫的蠻好的。\n這篇文章是其中一個 prototype 的內容摘錄如下:\n先有一個觀念就是 a = '123' 中 a 是變數(variable)， 123 是值(value)\n// teeth 是 variable // 32 是值 let human = { teeth: 32 } let gwen = { age: 19 } human 和 gwen 是一個 Object，他把屬性直接連到 值\n// gwen 沒有 teeth 屬性 console.log(gwen.teeth) // undefined let human = { teeth: 32 } 如果當用 __proto__ 在 Object 裡面，=的右邊是一個變數，這是就是去找這個變數的 reference 在哪?\nlet gwen = { // We added this line: // __proto__ 是 reference __proto__: human, age: 19 } let human = { teeth: 32 } let gwen = { // \"Look for other properties here\" __proto__: human, age: 19 } console.log(gwen.teeth) // 32 作者有做一個動畫說明\nlet human = { teeth: 32 }; let gwen = { __proto__: human, age: 19 }; console.log(human.age); // ? console.log(gwen.age); // ? console.log(human.teeth); // ? console.log(gwen.teeth); // ? console.log(human.tail); // ? console.log(gwen.tail); // ? 再更複雜一下\nlet mammal = { brainy: true, }; let human = { __proto__: mammal, teeth: 32 }; let gwen = { __proto__: human, age: 19 }; console.log(gwen.brainy); // true Shadow 如果自身有屬性，以自身屬性優先。\nlet human = { teeth: 32 }; let gwen = { __proto__: human, // This object has its own teeth property: teeth: 31 }; console.log(human.teeth); // 32 console.log(gwen.teeth); // 31 console.log(human.hasOwnProperty('teeth')); // true console.log(gwen.hasOwnProperty('teeth')); // true Assignment 重新指派值。\nlet human = { teeth: 32 }; let gwen = { __proto__: human, // Note: no own teeth property }; gwen.teeth = 31; console.log(human.teeth); // ? console.log(gwen.teeth); // ? gwen.teeth = 31; console.log(human.teeth); // 32 console.log(gwen.teeth); // 31 The Object Prototype 物件的一些特性屬性\nlet obj = {}; console.log(obj.__proto__); // Play with it! let human = { teeth: 32 }; console.log(human.hasOwnProperty); // (function) console.log(human.toString); // // (function) An Object With No Prototype 很特別的指定，如果指定的 null\nlet weirdo = { __proto__: null }; console.log(weirdo.hasOwnProperty); // undefined console.log(weirdo.toString); // undefined Polluting the Prototype 再複雜化一下各種情況\nlet obj = {}; obj.__proto__.smell = 'banana'; console.log(sherlock.smell); // \"banana\" console.log(watson.smell); // \"banana\" Fun Fact prototype 就有些語法糖的方式\nproto vs. prototype\nfunction Donut() { return { shape: 'round' }; } let donut = Donut(); function Donut() { return { shape: 'round' }; } let donutProto = { eat() { console.log('Nom nom nom'); } }; let donut1 = Donut(); donut1.__proto__ = donutProto; let donut2 = Donut(); donut2.__proto__ = donutProto; donut1.eat(); donut2.eat(); function Donut() { this.shape = 'round'; } Donut.prototype = { eat() { console.log('Nom nom nom'); } }; let donut1 = new Donut(); // __proto__: Donut.prototype let donut2 = new Donut(); // __proto__: Donut.prototype donut1.eat(); donut2.eat(); class Donut { constructor() { this.shape = 'round'; } eat() { console.log('Nom nom nom'); } }; let donut1 = new Donut(); // __proto__: Donut.prototype let donut2 = new Donut(); // __proto__: Donut.prototype donut1.eat(); donut2.eat(); Why Does This Matter? 其實作者表示也很少使用原型鏈(其實自已也是..呵呵)，不過這應該是 framework 的差異性，\n像 react 派走 functional programming ，而 angular 走的是 OOP 派，就是一種 coding style。\nIn practice, you probably won’t use prototypes in your code directly. (In fact, even using the proto syntax is discouraged.)\nPrototypes are unusual—most frameworks never embraced them as a paradigm. Still, you will notice prototypes hiding “beneath the surface” of other JavaScript features. For example, people often use prototypes to create a traditional “class inheritance” model that’s popular in other programming languages.\nThis became so common that JavaScript added a class syntax as a convention that “hides” prototypes out of sight. To see it in action, look at this snippet of a JavaScript class rewritten with proto for a comparison.\nPersonally, I don’t use a lot of classes in my daily coding, and I rarely deal with prototypes directly either. However, it helps to know how those features build on each other, and it’s important to know what happens when I read or set a property on an object.\n","wordCount":"615","inLanguage":"en","datePublished":"2022-03-08T18:29:06+08:00","dateModified":"2022-03-08T18:29:06+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://aryung.github.io/posts/2022-03-08-justjavascript-prototype/"},"publisher":{"@type":"Organization","name":"AC分享小站","logo":{"@type":"ImageObject","url":"https://aryung.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://aryung.github.io/ accesskey=h title="AC分享小站 (Alt + H)">AC分享小站</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>JS 原型說明 by Dan Abramov</h1><div class=post-meta><span title="2022-03-08 18:29:06 +0800 +0800">March 8, 2022</span></div></header><div class=post-content><h1 id=楔子>楔子<a hidden class=anchor aria-hidden=true href=#楔子>#</a></h1><p>不同的大神針對 JS 有不同的說明講解，來看一下 Redux 作者的說明。</p><p>Dan Abramov 有一個 <a href=https://justjavascript.com>justjavascrpt prototype</a> 其實把觀念寫的蠻好的。</p><p>這篇文章是其中一個 prototype 的內容摘錄如下:</p><p>先有一個觀念就是 <code>a = '123'</code> 中 a 是變數(variable)， <code>123</code> 是值(value)</p><pre tabindex=0><code>// teeth 是 variable
// 32 是值
let human = {
  teeth: 32
}

let gwen = {
  age: 19
}
</code></pre><p><code>human</code> 和 <code>gwen</code> 是一個 Object，他把屬性直接連到 <code>值</code></p><p><img loading=lazy src=https://res.cloudinary.com/dg3gyk0gu/image/upload/v1590534071/just-javascript-email-images/jj09/prop.png alt=prototype-value></p><pre tabindex=0><code>// gwen 沒有 teeth 屬性
console.log(gwen.teeth) // undefined
</code></pre><pre tabindex=0><code>let human = {
  teeth: 32
}
</code></pre><p>如果當用 <code>__proto__</code> 在 Object 裡面，<code>=</code>的右邊是一個變數，這是就是去找這個變數的 reference 在哪?</p><pre tabindex=0><code>let gwen = {
  // We added this line:
  // __proto__ 是 reference 
  __proto__: human,
  age: 19
}
</code></pre><p><img loading=lazy src=https://res.cloudinary.com/dg3gyk0gu/image/upload/v1590534071/just-javascript-email-images/jj09/proto.png alt="what is prototype"></p><pre tabindex=0><code>let human = {
  teeth: 32
}

let gwen = {
  // &#34;Look for other properties here&#34;
  __proto__: human,
  age: 19
}

console.log(gwen.teeth) // 32
</code></pre><p>作者有做一個動畫說明</p><p><img loading=lazy src=https://res.cloudinary.com/dg3gyk0gu/video/upload/f_auto/just-javascript-email-images/jj09/proto_anim-mp4.mp4 alt=video></p><pre tabindex=0><code>let human = {
  teeth: 32
};

let gwen = {
  __proto__: human,
  age: 19
};

console.log(human.age); // ?
console.log(gwen.age); // ?

console.log(human.teeth); // ?
console.log(gwen.teeth); // ?

console.log(human.tail); // ?
console.log(gwen.tail); // ?
</code></pre><p>再更複雜一下</p><pre tabindex=0><code>let mammal = {
  brainy: true,
};

let human = {
  __proto__: mammal,
  teeth: 32
};

let gwen = {
  __proto__: human,
  age: 19
};

console.log(gwen.brainy); // true
</code></pre><p><img loading=lazy src=https://res.cloudinary.com/dg3gyk0gu/image/upload/v1590534071/just-javascript-email-images/jj09/protochain.png alt=img></p><h1 id=shadow>Shadow<a hidden class=anchor aria-hidden=true href=#shadow>#</a></h1><p>如果自身有屬性，以自身屬性優先。</p><pre tabindex=0><code>let human = {
  teeth: 32
};

let gwen = {
  __proto__: human,
  // This object has its own teeth property:
  teeth: 31
};
</code></pre><pre tabindex=0><code>console.log(human.teeth); // 32
console.log(gwen.teeth); // 31
</code></pre><p><img loading=lazy src=https://res.cloudinary.com/dg3gyk0gu/image/upload/v1590534072/just-javascript-email-images/jj09/shadowing.png alt=img></p><pre tabindex=0><code>console.log(human.hasOwnProperty(&#39;teeth&#39;)); // true
console.log(gwen.hasOwnProperty(&#39;teeth&#39;)); // true
</code></pre><h1 id=assignment>Assignment<a hidden class=anchor aria-hidden=true href=#assignment>#</a></h1><p>重新指派值。</p><pre tabindex=0><code>let human = {
  teeth: 32
};

let gwen = {
  __proto__: human,
  // Note: no own teeth property
};

gwen.teeth = 31;

console.log(human.teeth); // ?
console.log(gwen.teeth); // ?
</code></pre><p><img loading=lazy src=https://res.cloudinary.com/dg3gyk0gu/image/upload/v1590534072/just-javascript-email-images/jj09/step1.png alt></p><pre tabindex=0><code>gwen.teeth = 31;
</code></pre><p><img loading=lazy src=https://res.cloudinary.com/dg3gyk0gu/image/upload/v1590534072/just-javascript-email-images/jj09/step2.png alt=img></p><pre tabindex=0><code>console.log(human.teeth); // 32
console.log(gwen.teeth); // 31
</code></pre><h1 id=the-object-prototype>The Object Prototype<a hidden class=anchor aria-hidden=true href=#the-object-prototype>#</a></h1><p>物件的一些特性屬性</p><pre tabindex=0><code>let obj = {};
console.log(obj.__proto__); // Play with it!
</code></pre><p><img loading=lazy src=https://res.cloudinary.com/dg3gyk0gu/image/upload/v1590534071/just-javascript-email-images/jj09/root1.png alt=img></p><pre tabindex=0><code>let human = {
  teeth: 32
};
console.log(human.hasOwnProperty); // (function)
console.log(human.toString); // // (function)
</code></pre><h1 id=an-object-with-no-prototype>An Object With No Prototype<a hidden class=anchor aria-hidden=true href=#an-object-with-no-prototype>#</a></h1><p>很特別的指定，如果指定的 null</p><pre tabindex=0><code>let weirdo = {
  __proto__: null
};
</code></pre><pre tabindex=0><code>console.log(weirdo.hasOwnProperty); // undefined
console.log(weirdo.toString); // undefined
</code></pre><h1 id=polluting-the-prototype>Polluting the Prototype<a hidden class=anchor aria-hidden=true href=#polluting-the-prototype>#</a></h1><p>再複雜化一下各種情況</p><p><img loading=lazy src=https://res.cloudinary.com/dg3gyk0gu/image/upload/v1590534072/just-javascript-email-images/jj09/root2.png alt=img></p><pre tabindex=0><code>let obj = {};
obj.__proto__.smell = &#39;banana&#39;;
</code></pre><pre tabindex=0><code>console.log(sherlock.smell); // &#34;banana&#34;
console.log(watson.smell); // &#34;banana&#34;
</code></pre><p><img loading=lazy src=https://res.cloudinary.com/dg3gyk0gu/image/upload/v1590534071/just-javascript-email-images/jj09/pollution.png alt=img></p><h1 id=fun-fact>Fun Fact<a hidden class=anchor aria-hidden=true href=#fun-fact>#</a></h1><p>prototype 就有些語法糖的方式</p><p><strong>proto</strong> vs. prototype</p><pre tabindex=0><code>function Donut() {
  return { shape: &#39;round&#39; };
}

let donut = Donut();
</code></pre><pre tabindex=0><code>function Donut() {
  return { shape: &#39;round&#39; };
}

let donutProto = {
  eat() {
    console.log(&#39;Nom nom nom&#39;);
  }
};

let donut1 = Donut();
donut1.__proto__ = donutProto;
let donut2 = Donut();
donut2.__proto__ = donutProto;

donut1.eat();
donut2.eat();
</code></pre><pre tabindex=0><code>function Donut() {
  this.shape = &#39;round&#39;;
}
Donut.prototype = {
  eat() {
    console.log(&#39;Nom nom nom&#39;);
  }
};

let donut1 = new Donut(); // __proto__: Donut.prototype
let donut2 = new Donut(); // __proto__: Donut.prototype

donut1.eat();
donut2.eat();
</code></pre><pre tabindex=0><code>class Donut {
  constructor() {
    this.shape = &#39;round&#39;;
  }
  eat() {
    console.log(&#39;Nom nom nom&#39;);
  }
};

let donut1 = new Donut(); // __proto__: Donut.prototype
let donut2 = new Donut(); // __proto__: Donut.prototype

donut1.eat();
donut2.eat();
</code></pre><h1 id=why-does-this-matter>Why Does This Matter?<a hidden class=anchor aria-hidden=true href=#why-does-this-matter>#</a></h1><p>其實作者表示也很少使用原型鏈(其實自已也是..呵呵)，不過這應該是 framework 的差異性，</p><p>像 react 派走 functional programming ，而 angular 走的是 OOP 派，就是一種 coding style。</p><p>In practice, you probably won’t use prototypes in your code directly. (In fact, even using the <strong>proto</strong> syntax is discouraged.)</p><p>Prototypes are unusual—most frameworks never embraced them as a paradigm. Still, you will notice prototypes hiding “beneath the surface” of other JavaScript features. For example, people often use prototypes to create a traditional “class inheritance” model that’s popular in other programming languages.</p><p>This became so common that JavaScript added a class syntax as a convention that “hides” prototypes out of sight. To see it in action, look at this snippet of a JavaScript class rewritten with <strong>proto</strong> for a comparison.</p><p>Personally, I don’t use a lot of classes in my daily coding, and I rarely deal with prototypes directly either. However, it helps to know how those features build on each other, and it’s important to know what happens when I read or set a property on an object.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://aryung.github.io/tags/javascript/>javascript</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://aryung.github.io/>AC分享小站</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>