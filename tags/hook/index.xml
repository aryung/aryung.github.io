<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>hook on ACåˆ†äº«å°ç«™</title><link>https://aryung.github.io/tags/hook/</link><description>Recent content in hook on ACåˆ†äº«å°ç«™</description><generator>Hugo -- gohugo.io</generator><language>zh-tw</language><lastBuildDate>Tue, 10 May 2022 09:30:06 +0800</lastBuildDate><atom:link href="https://aryung.github.io/tags/hook/index.xml" rel="self" type="application/rss+xml"/><item><title>react rule of hook</title><link>https://aryung.github.io/posts/2022-05-10-react-rule-of-hook/</link><pubDate>Tue, 10 May 2022 09:30:06 +0800</pubDate><guid>https://aryung.github.io/posts/2022-05-10-react-rule-of-hook/</guid><description>æ¥”å­ React æ”¹æˆ functional component æœ€æ–¹ä¾¿ç”¨çš„æ–¹å¼ï¼Œåœ¨æ•´å€‹ code syntax ä¹Ÿæ˜¯ç°¡æ½”ï¼Œä¸éç•¶æ–°èˆŠäº¤æ›æ™‚ï¼Œå¸¸å¸¸é›£å…æœƒæœ‰ä¸€äº›ä½¿ç”¨ä¸Šçš„è¦ç¯„ã€‚
rule of hook ç›´æ¥ç”¨ Tyler çš„ç¯„ä¾‹ä¾†æ¨™ç¤º rule
function Counter () { // ğŸ‘ from the top level function component const [count, setCount] = React.useState(0) if (count % 2 === 0) { // ğŸ‘ not from the top level React.useEffect(() =&amp;gt; {}) } const handleIncrement = () =&amp;gt; { setCount((c) =&amp;gt; c + 1) // ğŸ‘ not from the top level React.useEffect(() =&amp;gt; {}) } } function useAuthed() { // ğŸ‘ from the top level of a custom Hook const [authed, setAuthed] = React.</description></item><item><title>å¦‚ä½•åœ¨ useEffect å…§ä½¿ç”¨ async function</title><link>https://aryung.github.io/posts/2022-03-08-react-async-useeffect/</link><pubDate>Tue, 08 Mar 2022 20:29:06 +0800</pubDate><guid>https://aryung.github.io/posts/2022-03-08-react-async-useeffect/</guid><description>ä½¿ç”¨æƒ…å¢ƒ ä¸€é–‹å§‹çš„ API å‘¼å«æŠŠå€¼å¡é€² React æœå°‹ autocomplete å‰ç«¯ä¸€é–‹å§‹é–‹å•Ÿéƒ½æœƒæœ‰å‘¼å« API æƒ…å¢ƒçš„ç‹€æ³ç™¼ç”Ÿï¼Œæ¯”è¼ƒåŸºæœ¬çš„æ–¹å¼ä½¿ç”¨å¤§æ¦‚æœƒé•·é€™æ¨£å­ã€‚
const Users = () =&amp;gt; { const [users, setUsers] = useState([]) useEffect(() =&amp;gt; { fetchUsers().then((users) =&amp;gt; setUsers(users)) }, []) if (!users) return &amp;lt;div&amp;gt;Loading...&amp;lt;/div&amp;gt; return ( &amp;lt;ul&amp;gt; {users.map((user) =&amp;gt; ( &amp;lt;li&amp;gt;{user.name}&amp;lt;/li&amp;gt; ))} &amp;lt;/ul&amp;gt; ) } é‚£å¦‚æœè¦ä½¿ç”¨ async/await å‘¢?
å¾ˆç›´è¦ºçš„æœƒé€™æ¨£å¯«
// ç›´æ¥åœ¨ useEffect å…§ä½¿ç”¨ async useEffect(async () =&amp;gt; { const users = await fetchUsers() setUsers(users) }, []) ä½†æœƒæœ‰ä¸€å€‹æƒ…æ³ç™¼ç”Ÿï¼Œé‚„è¨˜çš„ useEffect æœ‰ä¸€å€‹ cleanup function å—?</description></item></channel></rss>